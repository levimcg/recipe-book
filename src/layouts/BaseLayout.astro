---
import "../styles/site.css";
import Footer from "@components/Footer.astro";
import Header from "@components/Header.astro";
import SkipLinks from "@components/SkipLinks.astro";
import SiteHead from "@components/SiteHead.astro";

const { title, description, isRecipe } = Astro.props;
---

<!doctype html>
<html lang="en">
	<SiteHead title={title} description={description} />
	<body>
		<SkipLinks {isRecipe} />
		<Header />
		<main id="main-content">
			<div class="page">
				<div class="page-inner">
					<div class="page-container">
						<div class="page-container-inner">
							<h1>{title}</h1>
						</div>
					</div>

					<div class="page-container">
						<div class:list={['page-container-inner', {'p-bottom-m': isRecipe}]}>
							{
								description && (
									<p class="page-lead">{description}</p>
								)
							}
							<slot />
						</div>
					</div>
				</div>
			</div>
			<Footer />
		</main>
	</body>
</html>

<style>
	.page {
		max-width: var(--site-max-width);
		width: 90%;
		margin-inline: auto;
		background-color: var(--color-text);
		background-image: url('../assets/composition-pattern-360.webp');
		background-size: 320px 320px;
		padding: var(--space-m);
		box-shadow: var(--shadow-elevation-high);
		border-radius: var(--space-s);
	}

	.page-inner {
		background-color: var(--color-background-default);
		border-radius: var(--space-2xs);
	}

	.page-container {
		padding-inline-start: var(--space-2xl);
		border-bottom: 1px solid var(--color-ruler);
	}

	.page-container-inner {
		padding-block-start: var(--space-xl);
		padding-block-end: var(--space-s);
		padding-inline: var(--space-l);
		border-left: 1px solid hsl(0, 95%, 84%);
	}

	.page-container + .page-container > .page-container-inner {
		padding-block-end: var(--space-2xl);
	}

	@media (max-width: 640px) {
		.page {
			padding: var(--space-s);
		}

		.page-container {
			padding-inline-start: var(--space-s);
		}

		.page-container-inner {
			padding-inline: var(--space-s);
		}
	}

	.page-lead {
		font-size: var(--step-1);
		line-height: 1.3;
		color: var(--color-text-muted);
	}
</style>
